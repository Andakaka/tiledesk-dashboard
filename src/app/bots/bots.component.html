<div class="content columns">
  <main class="column is-10 is-offset-1">

  <!-- <h1>Mongo DB Bots</h1> -->
  <h1>Bots</h1>
  <hr>
  <div class="field is-horizontal">
    <div class="field-body">

      <div class="field">
        <p class="control is-expanded has-icons-left">
          <input [(ngModel)]="bot_fullname" placeholder="Bot full name" class="input">
          <span class="icon is-small is-left">
              <i class="fa fa-commenting-o"></i>
          </span>
        </p>
      </div>
    </div>
  </div>
  <button class="button is-success" (click)="createBot()" [disabled]="bot_fullname?.length < 2 || bot_fullname?.length > 50">
    <!-- <span class="icon is-small">
      <i class="fa fa-plus-circle"></i>
    </span> -->
    Add new bot
  </button>

  <!-- MOMGO DB BOTS LIST -->
  <!-- is-bordered is-narrow -->
  <table class="table is-striped" style="margin-top:25px">
    <thead>
      <tr>
        <th style="">
          Id
        </th>
        <th>
          Full Name
        </th>
        <th>
          Creation Date
        </th>
        <th colspan="2">
          Actions
        </th>
      </tr>
    </thead>

    <tbody>

      <tr *ngFor="let bot of bots">
        <td>
          {{ bot?._id }}
        </td>
        <td>
          {{ bot?.fullname }}
        </td>
        <td>
          {{ bot?.createdAt | date: 'd/M/y'}}
        </td>

        <!-- EDIT -->
        <td style="text-align: center!important;padding-left:0px;">
          <!-- <span class="button is-small is-warning" (click)='openUpdateModal(bot?._id, bot?.fullname, hasClickedUpdateModal = true)'>
            Edit
          </span> -->
          <span class="icon" style="color:#f6ca4f; cursor: pointer;" (click)='openUpdateModal(bot?._id, bot?.fullname, hasClickedUpdateModal = true)'>
            <i class="fa fa-pencil"></i>
          </span>
        </td>
        <!-- ./ edit -->

        <!-- DELETE -->
        <td style="text-align: center!important; padding-right:0px; padding-left:0px; ">
          <!-- <span class="button is-small is-danger" (click)='openDeleteModal(bot?._id, bot?.fullname, hasClickedDeleteModal = true)'>
            Delete
          </span> -->
          <span class="icon" style="color:#e36456;cursor: pointer;" (click)='openDeleteModal(bot?._id, bot?.fullname, hasClickedDeleteModal = true)'>
            <i class="fa fa-trash-o"></i>
          </span>
        </td>
        <!-- /. delete -->

      </tr>
    </tbody>
  </table>

  <!-- MODAL -->
  <!-- <div class="backdrop" [ngStyle]="{'display':display}"></div> -->
  <div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':display}">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" aria-label="Close" (click)="onCloseModal()">
            <span aria-hidden="true">&times;</span>
          </button>
          <!-- <strong></strong> -->
          <span *ngIf="DISPLAY_DATA_FOR_UPDATE_MODAL">
            <h4 class="modal-title">Update Bot with id:
              <code>{{id_toUpdate}}</code>
            </h4>
          </span>
  
          <span *ngIf="DISPLAY_DATA_FOR_DELETE_MODAL">
            <h4 class="modal-title">Delete Bot with id:
              <code>{{id_toDelete}}</code>
            </h4>
          </span>
  
        </div>
  
        <span *ngIf="DISPLAY_DATA_FOR_UPDATE_MODAL">
          <div class="modal-body">
            <p>{{botFullNAme_toUpdate}}</p>
            <div class="field is-horizontal">
              <div class="field-body">
  
                <div class="field">
                  <p class="control is-expanded has-icons-left">
                    <input [(ngModel)]="botFullNAme_toUpdate" placeholder="Full name" class="input">
                    <span class="icon is-small is-left">
                      <i class="fas fa-user fa"></i>
                    </span>
                  </p>
                </div>
    
              </div>
            </div>
          </div>
        </span>
  
        <span *ngIf="DISPLAY_DATA_FOR_DELETE_MODAL">
          <div class="modal-body">
  
          <p> Are you sure you want to delete the bot <strong>{{botFullNAme_toDelete}}</strong> ?</p>
          </div>
        </span>
  
        <span *ngIf="DISPLAY_DATA_FOR_UPDATE_MODAL">
          <div class="modal-footer">
            <button type="button" class="btn btn-default" (click)="onCloseUpdateModalHandled()">Save</button>
          </div>
        </span>
  
        <span *ngIf="DISPLAY_DATA_FOR_DELETE_MODAL">
          <div class="modal-footer">
            <button type="button" class="btn btn-default" (click)="onCloseDeleteModalHandled()">Confirm</button>
          </div>
        </span>
  
      </div>
      <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
  </div>


  </main>
</div>