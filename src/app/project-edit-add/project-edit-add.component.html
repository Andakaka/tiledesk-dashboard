<!-- NEW FOR THIS TEMPLATE -->
<div class="navbar-brand" style="z-index: 1050;position: relative;margin-top:6px; padding-left:30px">
    <!-- (click)="goBackToProjectsList() -->
    <i class="material-icons" style="vertical-align: middle !important; cursor: pointer;" (click)="goBack()">keyboard_arrow_left</i>
    <span *ngIf="CREATE_VIEW">Aggiungi Progetto</span>
    <span *ngIf="EDIT_VIEW">
      <!-- Impostazioni Progetto -->
    {{ "ProjectEditPage.ProjectSettings" | translate }}
    </span>
  </div>
  
  <div class="main-content" style="padding-top:0px">
    <div class="container-fluid">
   
      <div class="row">
        <div class="col-md-12">
          <div class="card">
            <loading-spinner *ngIf="showSpinner"></loading-spinner>
            
            <div *ngIf="!showSpinner" class="card-content">
    
              <!-- <span *ngIf="CREATE_VIEW">
                <label style="height: 36px; padding-top: 7px; padding-left: 16px; padding-right: 16px; text-align: right;" class="col-sm-2 ">
                  {{ "ProjectEditPage.ProjectName" | translate }}
                </label>
                <div class="col-sm-10">
                  <input [(ngModel)]="project_name" class="" type="text" placeholder="Nome Progetto">
                </div>

                <div class="col-sm-12" style="height:15px"></div>
                <label style="" class="col-sm-2 "></label>
  
                <div class="col-sm-10">
                  <button class="btn btn-success" [disabled]="project_name?.length < 2" (click)="createProject()">
                    Crea Progetto 
                  </button>
                </div>
    
              </span> -->
              <!-- /. CREATE_VIEW -->
    
              <span *ngIf="EDIT_VIEW">
 
                
                <!-- SECTION YOUR PROJECT -->
                <div class="row">
                  <div class="col-sm-12">
                    <p class="card-section-title" style="margin-bottom: 10px">
                      {{ "ProjectEditPage.YourProject" | translate }}
                    </p>
                  </div>
                </div>

                <div class="input-wrapper" style="max-width: 992px;"> 
                  <div class="row"> 
                    <label class="col-sm-2 custom-label">
                      {{ "ProjectEditPage.ProjectName" | translate }}
                    </label>
                    <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                      <div class="input-group">
                        <input [(ngModel)]="projectName_toUpdate" (ngModelChange)="onProjectNameChange($event)" class="input" type="text" placeholder="Nome Progetto" style="border-top-right-radius: 0px; border-bottom-right-radius: 0px">
                        <span class="input-group-btn" style="padding-right: 0px;padding-left: 0px;">
                          <button class="btn btn-success" (click)="edit()" [disabled]="DISABLE_UPDATE_BTN === true" style="padding-bottom: 9px; margin-bottom: 9px; padding-top: 10px; border-top-right-radius: 5px; border-bottom-right-radius: 5px">
                            {{ "ProjectEditPage.Update" | translate }}
                          </button>
                        </span>
                      </div>
                      <span *ngIf="projectName_toUpdate?.length > 0 && projectName_toUpdate?.length < 4" style="padding-left: 5px; font-size: 0.9em; color:#da491c">
                        {{ 'ProjectsPage.ModalMustBeAtLeast' | translate }}
                      </span>
                    </div>
                  </div>

                  <div class="row"> 
                    <label class="col-sm-2 custom-label">
                      {{ "ProjectEditPage.ProjectId" | translate }}
                    </label>
                    <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                      <input style="color:#999999" [(ngModel)]="id_project" class="input" type="text" disabled>
                    </div>
                  </div>

                  <!-- start project plan -->

                  <!-- <div class="row"> 
                    <label class="col-sm-2 custom-label">
                      {{ "ProjectEditPage.ProjectPlan" | translate }}
                    </label>
                    <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                      <div class="input-group">
                        <input [(ngModel)]="prjct_profile_name" class="input project-plan-input" type="text" disabled>
                        <span class="input-group-btn" style="padding-right: 0px;padding-left: 0px;">
                        
                          <span *ngIf="prjct_profile_name !== 'pro'"> 
                            <button class="btn btn-success project-plan-btn" (click)="goToPricing()">
                              {{ "Pricing.UpgradePlan" | translate }}
                            </button>
                          </span> 
                          <span *ngIf="prjct_profile_name === 'pro'"> 
                            <button class="btn btn-success project-plan-btn" (click)="openLetsChatModal()">
                              {{ "Pricing.AddMoreOperators" | translate }}
                            </button>
                          </span>


                        </span>
                      </div>

                      <span *ngIf="prjct_profile_name === 'pro'">
                          <i class="material-icons" style="color:#4caf50; vertical-align: middle;">
                              check_circle
                          </i>
                          <span>  {{ "Pricing.YourSubscriptionIsActive" | translate }} </span>
                      </span>  

                      <span *ngIf="prjct_profile_name !== 'pro'">
                        <i class="material-icons" style="color:#5e9ded; vertical-align: middle;">
                            info
                        </i>
                        <span *ngIf="prjct_trial_expired === false"> 
                            {{ "Pricing.Your" | translate }}
                            
                          <span style="font-weight:500"> 
                            {{ "Pricing.30DaysFreeTrialOfTiledeskProPlan" | translate }}
                          </span>
                          
                          {{ "Pricing.WillExpireIn" | translate }}
                          
                            <span *ngIf="prjc_trial_days_left < -1"> 
                              {{ - prjc_trial_days_left }} {{ "Pricing.Days" | translate }}
                          </span>
        
                          <span *ngIf="prjc_trial_days_left === -1"> 
                              {{ "Pricing.Tomorrow" | translate }}
                          </span>
                        </span> 

                        <span *ngIf="prjct_trial_expired === true"> 
                            {{ "Pricing.Your" | translate }}
                          <span style="font-weight:500">
                              {{ "Pricing.30DaysFreeTrialOfTiledeskProPlan" | translate }} 
                          </span>
                          {{ "Pricing.HasExpired" | translate }} 
                        </span> 
                      </span>


                    </div>
                  </div> -->

                  <!-- /.end project plan -->

                </div>
                <!-- SECTION DIVIDER -->
                <div class="row section-divider" style="">
                  <div class="col-sm-12" style="border-top: 1px solid #eeeeee;"></div>
                </div>

                <!-- SECTION TITLE AND SUBTITLE -->
                <div class="row">
                  <div class="col-sm-12" style="">
                    <p class="card-section-title" style="">
                      {{ "ProjectEditPage.TranscriptByEmail" | translate }}
                    </p>
                    <p class="card-section-subtitle">
                      {{ "ProjectEditPage.AutoSendTranscriptByEmail" | translate }}
                    </p>
                  </div>
                </div>

                <!-- AUTO SEND TRANSCRIPT BY EMAIL ON / OFF BTN -->
                <div class="row">
                  <label class="col-xs-6 col-sm-2 custom-label">
                    {{ "ProjectEditPage.AutoSend" | translate }}
                  </label>
                  <div class="col-xs-6 col-sm-10">
                    <div class="onoffswitch">
                      <input (change)="autoSendTranscriptOnOff($event)" 
                        [checked]="AUTO_SEND_TRANSCRIPT_IS_ON === true" type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch">
                      <label class="onoffswitch-label" for="myonoffswitch">
                          <span class="onoffswitch-inner"></span>
                          <span class="onoffswitch-switch"></span>
                      </label>
                    </div>
                  </div>
                </div>

                <!-- SECTION DIVIDER -->
                <div class="row section-divider">
                  <div class="col-sm-12" style="border-top: 1px solid #eeeeee;"></div>
                </div>

                <!-- SECTION SHARED SECRET - TITLE AND SUBTITLE -->
                <div class="row">
                  <div class="col-sm-12">
                    <p class="card-section-title">
                      {{ "ProjectEditPage.VisitorAuthentication" | translate }}
                    </p>
                    <p class="card-section-subtitle">
                      {{ "ProjectEditPage.EnableVisitorAuthentication" | translate }}.

                      <span class="link-to-widget-auth" (click)="goToWidgetAuthenticationDocs()"> 
                        {{ 'Resourcepage.HereHow' | translate }} 
                      </span>
                    </p>
                  </div>
                </div>

                <!-- SHARED SECRET GENERATE -->
                <div class="row">
                  <label class="col-xs-6 col-sm-2 custom-label" style="padding-top:10px">
                    Shared Secret
                  </label>
                  <div class="col-xs-6 col-sm-10">
                                            
                    <button (click)="openConfirmJwtSecretCreationModal()" class="btn btn-danger" style="margin-top:5px; padding:6px 15px ">
                      {{ "ProjectEditPage.Generate" | translate }}
                    </button>
                  </div>
                </div>

                <!-- <div class="row">
                  <label class="col-sm-2"></label>
                  <div class="col-xs-12 col-sm-10">
                    <div class="link-to-widget-auth" (click)="goToWidgetAuthenticationDocs()">
                      {{ "HereTheDocumentationAboutTheVisitorsAuthentication" | translate }}
                    </div>
                  </div>
                </div> -->

              </span>   <!-- /. EDIT_VIEW -->
    
            </div>
            <!-- ./ card-content -->

            <!-- <div class="card-footer" style="text-align: center;">
              <div class="stats">
                <button class="btn btn-success" (click)="edit()">
                  {{ "ProjectEditPage.UpdateProject" | translate }}
                  </button>
              </div>
            </div> -->
  
            
          </div>
          <!-- ./ card -->
  
        </div>
        <!-- ./ col-md-12 -->
  
      </div>
      <!-- ./ row -->
      <div class="row">

        <div class="col-md-12" style="text-align: center; border-top: 1px solid #cccccc; margin-top:25px">
          <div style="color:#aaaaaa; margin-top:25px; cursor:pointer" (click)="openDeleteModal()">
            <i class="material-icons" style="vertical-align: middle">delete_forever</i> 
            <span style="vertical-align: middle; text-transform: uppercase">
              <!-- ELIMINA PROGETTO -->
              {{ "ProjectEditPage.DeleteProject" | translate }}
            </span>
          </div>
          <!-- <h5 style="color:#aaaaaa; margin-top:25px; font-size:1em">ELIMINA PROGETTO</h5> -->
        </div>
      </div>
 
    </div>
    <!-- ./ container-fluid -->
  
  </div> 
  <!-- ./ main-content -->

        
<!-- ******************************  
*** DELETE PROJECT MODAL WINDOW ***
*********************************** -->
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':display}" style="background-color: rgba(90,90,90,0.5);">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header" style="background-color:#ff5252; padding-bottom:24px">
        <button style="color:#ffffff" type="button" class="close" aria-label="Close" (click)="onCloseModal()">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title" style="color: #fff">
            <i class="material-icons" style="vertical-align: middle">report_problem</i>
            <span style="vertical-align: middle; padding-left:8px"> 
              <!-- Elimina progetto -->
              {{ "ProjectEditPage.DeleteProject" | translate }}
            </span>
        </h4>
        <h4 class="modal-title" style="color: #fff; padding-top:10px; font-size: 1.1em ">
          <!-- Il progetto verrà eliminato -->
          {{ "ProjectEditPage.TheProjectWillBeDeleted" | translate }}
        </h4>
      </div>
      <div class="modal-body">
          <label style="font-weight:100; text-align: left; padding-bottom:12px" class="col-sm-10 ">
            <!-- Per eliminare il progetto, digita l'ID del progetto: -->
            {{ "ProjectEditPage.ToDeleteTheProject" | translate }}:
              <span style="color:#212121">
                <strong> {{ id_project }}</strong> 
              </span>
          </label>
          <div class="col-sm-10">
              <!-- [(ngModel)]="project_name" -->
            <input  class="" type="text" placeholder="{{ 'ProjectEditPage.ProjectId' | translate }}">
          </div>
      </div>
      <div class="modal-footer" style="margin-top: 75px;">
        <button class="btn btn-white" (click)="onCloseModal()" style="padding:12px 16px;">
          <!-- Chiudi -->
          {{ "ProjectEditPage.Calcel" | translate }}
        </button>
        <!-- (click)="createProject() -->
        <button style="margin-top:0px" class="btn btn-danger" disabled>
          <!-- Elimina Progetto -->
          {{ "ProjectEditPage.DeleteProject" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>

  <!-- *******************************************************  
  *** CONFIRM THE CREATION OF THE SHARED SECRET MODAL INFO ***
  ************************************************************ -->
  <div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayConfirmJwtSecretCreationModal}" style="background-color: rgba(90,90,90,0.5);">
    <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">
        <div class="modal-header" style="background-color:#f44336; padding-bottom:24px">
          <button type="button" class="close" aria-label="Close" (click)="closeConfirmJwtSecretCreationModal()" style="color: #ffffff;">
            <span aria-hidden="true">&times;</span>
          </button>
          <h4 class="modal-title" style="color: #fff">
              <i class="material-icons" style="vertical-align: middle">warning</i>
              <span style="vertical-align: middle; padding-left:8px"> 
                
                {{ "ProjectEditPage.GenerateSharedSecret" | translate }}
              </span>
          </h4>
   
        </div>
        <div class="modal-body">
            <label style="text-align: left; padding-bottom:12px; color: #f44336" class="col-sm-12 ">
              {{ "ProjectEditPage.NoteThatWillBeSubscribed" | translate }}!
            </label>
   
        </div>
        <div class="modal-footer" style="margin-top: 75px; text-align: center">
          <button class="btn btn-white" (click)="closeConfirmJwtSecretCreationModal()" style="padding:12px 16px;">
              {{ "ProjectEditPage.Calcel" | translate }}
          </button>
          <button style="margin-top:0px" class="btn btn-danger" (click)="generateSharedSecret()">
  
            {{ "ProjectEditPage.Generate" | translate }}
          </button>
        </div>
      </div>
    </div>
  </div>

<!-- *************************************  
*** SHARED SECRET GENERATED MODAL INFO ***
****************************************** -->
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayJwtSecretGeneratedModal}" style="background-color: rgba(90,90,90,0.5);">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header" style="background-color:#00bcd4; padding-bottom:24px">
        <button type="button" class="close" aria-label="Close" (click)="closeJwtSecretGeneratedModal()" style="color: #ffffff;">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title" style="color: #fff">
            <i class="material-icons" style="vertical-align: middle">info</i>
            <span style="vertical-align: middle; padding-left:8px"> 
              
              {{ "ProjectEditPage.SharedSecretGenerated" | translate }}
            </span>
        </h4>
        <!-- <h4 class="modal-title" style="color: #fff; padding-top:10px; font-size: 1.1em ">
            {{ "ProjectEditPage.TheProjectWillBeDeleted" | translate }}
        </h4> -->
      </div>
      <div class="modal-body">
          <label style="color: rgb(118, 149, 165); font-weight:100; text-align: left;" class="col-sm-10 ">
            {{ "ProjectEditPage.ThisIsYourSharedSecret" | translate }}:
          </label>
          <div class="col-sm-10">
            <div class="input-group">
              <input id="sharedSecretInput" readonly [(ngModel)]="sharedSecret" class="" type="text" style="border-top-right-radius: 0px; border-bottom-right-radius: 0px">
              <span class="input-group-btn" style="padding-right: 0px;padding-left: 0px;">
                <button class="btn btn-info" (click)="copySharedSecret()" style="padding-bottom: 9px; margin-bottom: 9px; padding-top: 10px; border-top-right-radius: 5px; border-bottom-right-radius: 5px">
                  {{ "ProjectEditPage.Copy" | translate }}
                </button>
              </span>
            </div>  
          </div>
          <label style="color:#f44336; text-align: left; margin-top: 5px;" class="col-sm-10 ">
            {{ "ProjectEditPage.NoteThatWillBeDisplayedOnce" | translate }}.
          </label>
      </div>
      <div class="modal-footer" style="margin-top: 75px; text-align: center">
        <button class="btn btn-white" (click)="closeJwtSecretGeneratedModal()" style="padding:12px 16px;">
          Ok
        </button>
        <!-- <button style="margin-top:0px" class="btn btn-danger" disabled (click)="createProject()">

          {{ "ProjectEditPage.DeleteProject" | translate }}
        </button> -->
      </div>
    </div>
  </div>
</div>


<!-- ============= CONTACT US MODAL ============= -->
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayContactUsModal}" style="background-color: rgba(90,90,90,0.9);">
    <div class="modal-dialog" role="document">
      <div class="modal-content" style="border-top-left-radius:6px; border-top-right-radius:6px">
        <div class="modal-header" style="padding:0px!important; border-bottom:none!important;">
 
            <div class="close-payment-report-modal" style="font-weight: 100; right: 6px; position: absolute;cursor:pointer" (click)="closeContactUsModal()">
              <i class="material-icons close-payment-report-icon" style="font-size: 35px; opacity: 0.5;">
                clear
              </i>
            </div>

      

          <h2 class="modal-title" style="color: #262f3c; text-align: center; font-family: 'Google Sans', sans-serif !important; margin-top: 25px">
            <span style="vertical-align: middle;">
                {{ "Pricing.PlanChange" | translate }}
            </span>
          </h2>


        </div>
        <hr class="custom-hr" style="margin-top:10px; margin-bottom:10px">
        <div class="modal-body" style="padding-top: 0px; padding-bottom: 0px; padding-right: 35px; padding-left: 35px; line-height: 1">

          <div class="row">
            
            <div class="col-sm-12">

                <h3 style="text-align: center;  color: #8894ab; font-size: 24px">
                    <!-- Contact us via chat and tell us how many operator seats you want to add to the project -->
                    {{ "Pricing.ContactUsViaChatAndTellIUsHowManyOperator" | translate}}
                </h3>
            </div>

          </div>

        </div>

  
  <div class="modal-footer" style="margin-top: 0px; background-color: #fff; border-top:none">
    <div style="text-align: center; margin-bottom: 25px;"> 

        <button type="button"  style="background-color:#3EA9F5;color:#FFF;padding:12px 16px;border:0;border-radius:4px;font-size:18px"            
          id="checkout-button-plan_EjFHNnzJXE3jul"  role="link"  (click)="launchWidget()">
          <!-- PerMonth -->
          Let's chat
        </button>
      </div>
  </div>

      </div>
    </div>
  </div>

