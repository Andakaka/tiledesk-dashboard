<!-- <appdashboard-navbar-for-panel></appdashboard-navbar-for-panel> -->

<div class="main-content main-content-projects-for-panel">
  <div class="container-fluid container-projects-for-panel">

    <div class="left-sidebar">

      <loading-spinner *ngIf="showSpinner"></loading-spinner>

      <div class="left-sidebar-projects" style="margin-right: -10px;" *ngIf="!showSpinner">


        <div *ngFor="let project of projects; let i = index" style="cursor:pointer">

          <div class="small-projects-sidebar"
            (click)='goToUnservedRequests(project, project?.id_project?._id, project?.id_project?.name, project?.id_project?.profile?.name, project?.id_project?.trialExpired, project?.id_project?.trialDaysLeft, project?.id_project?.status)'>

            <div *ngIf="project?.id_project?.status !== 0" class="flex-container project-row">
              <div class="flex-child-left">
                <div class="project-avatar-wrapper"
                  (click)="$event.stopPropagation();changeAvailabilityState(project?.id_project?._id, project?.ws_projct_user_available)">

                  <div class="project-avatar">
                    {{ project?.project_name_initial }}

                    <!-- {{project?.ws_projct_user_available}} -->
                  </div>


                  <!-- <div class="status--icon"
                    [ngStyle]="{ 'background-color':(project?.ws_projct_user_available)?'#24d066':'#db4437' }">
                  </div> -->
                  <!-- <div class="busy--icon" *ngIf="project?.ws_projct_user_isBusy === true"></div> -->
                </div>
              </div>

              <div class="flex-child-right" *ngIf="!window_width_is_60">
                <div class="project-name" [ngClass]="{'im-available' : project?.ws_projct_user_available === true}">
                  {{ project?.id_project?.name }}
                </div>

                <!-- <div class="status--text"
                  (click)="$event.stopPropagation();changeAvailabilityState(project?.id_project?._id, project?.ws_projct_user_available)"
                  [ngClass]="{'online-text-color' : project?.ws_projct_user_available === true, 'offline-text-color' : project?.ws_projct_user_available === false}">
                  <span *ngIf="project?.ws_projct_user_available === true">
                    Online
                  </span>
                  <span *ngIf="project?.ws_projct_user_available === false"> Offline</span>

                  <span *ngIf="project?.ws_projct_user_available === true" class="material-icons icon-as-btn">
                    notifications
                  </span>
                  <span *ngIf="project?.ws_projct_user_available === false" class="material-icons icon-as-btn">
                    notifications_off
                  </span>
                </div> -->
                <div class="switch-btn-wpr" style="display: inline-block;position: relative;top: 4px;">
                  <div class="i_onoffswitch"
                    (click)="$event.stopPropagation();changeAvailabilityState(project?.id_project?._id, project?.ws_projct_user_available)">
                    <input type="checkbox" name="i_onoffswitch_{{project?.id_project?._id}}"
                      class="i_onoffswitch-checkbox" id="i_switch_availability_{{project?.id_project?._id}}"
                      tabindex="0" [checked]="project?.ws_projct_user_available">
                    <label style="margin-bottom: 0px" class="i_onoffswitch-label"
                      for="i_switch_availability_{{project?.id_project?._id}}"></label>
                  </div>
                </div>

                <div class="avalability--status-text-wpr" style="display: inline-block; min-width: 75px;">
                  <div class="avalability--status-text"
                    (click)="$event.stopPropagation();changeAvailabilityState(project?.id_project?._id, project?.ws_projct_user_available)"
                    [ngClass]="{'online-text-color' : project?.ws_projct_user_available === true, 'offline-text-color' : project?.ws_projct_user_available === false}">
                    <span *ngIf="project?.ws_projct_user_available === true"
                      style="text-transform: capitalize;">{{'Available' | translate}} </span>
                    <span *ngIf="project?.ws_projct_user_available === false" style="text-transform: capitalize;">
                      {{'Unavailable' | translate}}</span>
                  </div>
                </div>

                <div class="isBusy---wpr" style="display: inline-block; position: relative;top: 4px;">
                  <div class="projects-item--isBusy-icon-wpr" *ngIf="project?.ws_projct_user_isBusy === true">
                    <span class="material-icons projects-item--isBusy-icon">
                      access_time
                    </span>
                  </div>
                  <!-- text-pulse-animation -->
                  <span *ngIf="project?.ws_projct_user_isBusy === true"
                    class="projects-item--isBusy-busy-text">
                    {{'Busy' | translate}}
                  </span>
                </div>


              </div>

              <div class="flex-child--right" *ngIf="!window_width_is_60">
                <!-- <span class="material-icons" style="vertical-align: middle; color: #a9abad">
                  east
                </span> -->

                <div id="arrow_1" class="arrow-wrapper">
                  <div class="arrow arrow--right">
                    <span></span>
                  </div>
                </div>
              </div>


            </div>
          </div>

        </div>

      </div>
    </div>
  </div>
</div>