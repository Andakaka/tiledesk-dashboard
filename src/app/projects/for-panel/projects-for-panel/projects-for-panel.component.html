<!-- <appdashboard-navbar-for-panel></appdashboard-navbar-for-panel> -->

<div class="main-content main-content-projects-for-panel">
  <div class="container-fluid container-projects-for-panel">

    <div class="left-sidebar">

      <loading-spinner *ngIf="showSpinner"></loading-spinner>

      <div class="left-sidebar-projects" style="margin-right: -10px;" *ngIf="!showSpinner">


        <div *ngFor="let project of projects; let i = index" style="cursor:pointer">

          <div class="small-projects-sidebar"
            (click)='goToUnservedRequests(project?.id_project?._id, project?.id_project?.name, project?.id_project?.profile?.name, project?.id_project?.trialExpired, project?.id_project?.trialDaysLeft, project?.id_project?.status)'>
            
            <div *ngIf="project?.id_project?.status !== 0"  class="flex-container project-row">
              <div class="flex-child-left">
                <div class="project-avatar-wrapper"
                  (click)="$event.stopPropagation();changeAvailabilityState(project?.id_project?._id, project?.ws_projct_user_available)">

                  <div class="project-avatar">
                    {{ project?.project_name_initial }}

                    <!-- {{project?.ws_projct_user_available}} -->
                  </div>
                  <!-- [ngClass]="{'online' : project?.ws_projct_user_available === true, 'offline' : project?.ws_projct_user_available === false}" -->
                  <div class="status--icon"
                   
                    [ngStyle]="{ 'background-color':(project?.ws_projct_user_available)?'#24d066':'#db4437' }">
                  </div>

                  <div class="busy--icon" *ngIf="project?.ws_projct_user_isBusy === true"></div>
                </div>
              </div>

              <div class="flex-child-right" *ngIf="!window_width_is_60">
                <div class="project-name" [ngClass]="{'im-available' : project?.ws_projct_user_available === true}">
                  {{ project?.id_project?.name }}
                </div>

                <div class="status--text"
                  (click)="$event.stopPropagation();changeAvailabilityState(project?.id_project?._id, project?.ws_projct_user_available)"
                  [ngClass]="{'online-text-color' : project?.ws_projct_user_available === true, 'offline-text-color' : project?.ws_projct_user_available === false}">
                  <span *ngIf="project?.ws_projct_user_available === true">
                    <!-- {{ 'Available' | translate }}  -->
                    Online
                  </span>
                  <span *ngIf="project?.ws_projct_user_available === false"> Offline</span>

                  <span *ngIf="project?.ws_projct_user_available === true" class="material-icons icon-as-btn">
                    notifications
                  </span>
                  <span *ngIf="project?.ws_projct_user_available === false" class="material-icons icon-as-btn">
                    notifications_off
                  </span>
                </div>

                <!-- <div class="i_onoffswitch">
                  <input type="checkbox" name="i_onoffswitch" class="i_onoffswitch-checkbox" id="i_myonoffswitch" tabindex="0"
                    checked>
                  <label class="i_onoffswitch-label" for="i_myonoffswitch"></label>
                </div> -->


              </div>

              <div class="flex-child--right" *ngIf="!window_width_is_60">
                <!-- <span class="material-icons" style="vertical-align: middle; color: #a9abad">
                  east
                </span> -->

                <div id="arrow_1" class="arrow-wrapper">
                  <div class="arrow arrow--right">
                    <span></span>
                  </div>
                </div>
              </div>


            </div>
          </div>

        </div>

      </div>
    </div>
  </div>
</div>