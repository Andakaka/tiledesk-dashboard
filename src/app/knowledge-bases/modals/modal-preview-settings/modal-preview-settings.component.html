<h1 mat-dialog-title>  AI Settings </h1>


<div mat-dialog-content>
    <div class="row-container"  style="margin-top: 0px;">
        <label class="setting-label">AI Model</label>
        <ng-select class="" 
            appendTo="body" 
            [items]="models_list"
            bindLabel="name"
            bindValue="value"
            placeholder="{{ 'KbPage.PlaceholderSelectEngine' | translate }}"
            [clearable]="false"
            [(ngModel)]="selectedModel"
            (change)="onSelectModel(selectedModel)">
        </ng-select>
    </div>

    <div class="row-container">
        <div class="label-wpr">
            <label class="setting-label">
                <!-- Max Tokens -->
            {{ 'KbPage.MaxTokens'| translate}}
            </label>
           
        </div>

        <div class="field-box"> 
            <div class="action-wait-slider">
                <div class="action-wait-range">1</div>
                <mat-slider 
                    class="wait-slider" 
                    thumbLabel 
                    step="1"  min="1" max="512"
                    [(ngModel)]="max_tokens"
                    (change)="updateSliderValue($event.value, 'max_tokens')" 
                    aria-label="units">
                </mat-slider>
                <div class="action-wait-range">512</div>
            </div>
            <input type="text" class="slider-output" value="{{max_tokens}}" disabled>
        </div>
    </div>

    <div class="row-container">
        <div class="label-wpr">
            <label class="setting-label">
                <!-- Temperature -->
                {{ 'KbPage.Temperature'| translate}}
            </label>
        </div>
        <div class="field-box"> 
            <div class="action-wait-slider">
                <div class="action-wait-range">0</div>
                <mat-slider 
                    class="wait-slider" 
                    thumbLabel 
                    step="0.05"  min="0" max="1"
                    [(ngModel)]="temperature"
                    (change)="updateSliderValue($event.value, 'temperature')" 
                    aria-label="units">
                </mat-slider>
                <div class="action-wait-range">1</div>
            </div>
            <input type="text" class="slider-output" value="{{temperature}}" disabled>
        </div>
    </div>

    <div class="form-container">
        <div class="label-wpr">
            <label class="setting-label">
                {{ 'KbPage.ChunkLimit'| translate}}
            </label>
        </div>
        <div class="field-box"> 
            <div class="action-wait-slider">
                <div class="action-wait-range">1</div>
                <mat-slider 
                    class="wait-slider" 
                    thumbLabel 
                    step="1"  min="0" max="10"
                    [(ngModel)]="topK"
                    (change)="updateSliderValue($event.value, 'top_k')" 
                    aria-label="units">
                </mat-slider>
                <div class="action-wait-range">10</div>
            </div>
            <input type="text" class="slider-output" value="{{topK}}" disabled>
        </div>
    </div>

    <div class="form-container">
        <div class="label-wpr">
            <label class="setting-label">
                <!-- System context -->
                {{ 'KbPage.SystemContext'| translate}}
            </label>
        </div>

        <textarea  class="context-texarea" [(ngModel)]="context" rows="1"
        placeholder="{{context_placeholder}}"
        (ngModelChange)="onChangeTextInContex($event)">  </textarea>
       
    </div>

  
</div>

<div mat-dialog-actions style="justify-content: center;">
    <button class="mat-dialog-close-btn" mat-button (click)="onNoClick()">
        {{ "Cancel" | translate }}
       
    </button>
   
    <button class="mat-dialog-ok-btn" mat-button
        (click)="onSavePreviewSettings()" cdkFocusInitial>
       
       
       {{ "Save" | translate }}
        
    </button>
</div>

