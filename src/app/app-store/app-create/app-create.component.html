<div class="navbar-brand" style="z-index: 1050;position: relative;padding-left:30px"
  [ngStyle]="{'margin-top':isChromeVerGreaterThan100 === true ? '-57px' : '6px' }">
  <i class="material-icons" style="vertical-align: middle !important; cursor: pointer;"
    (click)="goBack()">keyboard_arrow_left</i>

  <span *ngIf="CREATE_VIEW">New app </span>
  <span *ngIf="EDIT_VIEW">Edit app </span>
</div>

<div class="main-content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-8" id="create-new-app-inputs-wpr">
        <div class="row">
          <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
            <div [ngClass]="{'app-icon-wpr-palceholder': !app_icon_url, 'app-icon-wpr-icon': app_icon_url}">
              <div class="app-icon">
                <img *ngIf="app_icon_url" [src]="app_icon_url" onerror="this.src='assets/img/insert_photo.svg'"
                  (error)="errorHandler($event)" />

                <img *ngIf="!app_icon_url" src="assets/img/insert_photo.svg" />
                <span style="color: rgb(157, 159, 162)" *ngIf="!app_icon_url || app_icon_url?.length === 0 "> No app
                  icon available</span>
                <!-- <span style="color: rgb(157, 159, 162)" *ngIf="app_icon_url || ( app_icon_url?.length > 0 && IMAGE_NOT_FOUND === true) "> App icon not found</span> -->
              </div>
            </div>
          </div>

          <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
            <input [(ngModel)]="app_icon_url" class="input" style="margin-bottom: 0px;" type="text"
              placeholder="Enter the url of the app icon">
          </div>
        </div>
        <!-- https://fakecrm.nicolan74.repl.co -->
        <div class="row">
          <label class="col-sm-12 app-create-label">
            App name*
          </label>

          <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
            <input [(ngModel)]="app_name" class="input" style="margin-bottom: 0px;" type="text" placeholder="App name">
          </div>
        </div>

        <div class="row">
          <label class="col-sm-8 col-md-8 col-lg-8 app-create-label">
            <!-- App installation url* -->
            Configure URL (optional)
            <span style="color: rgb(157, 159, 162); display: block;font-size: 12px;">
              Used to create a custom configuration page for your app. 
              Your app can in fact include a page to perform advanced configurations eg: https//myapp-for-tiledesk/ configuration. 
              To access the custom configuration page, click on the "manage" button after installing the app
            </span>
          </label>

          <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
            <input [(ngModel)]="app_installation_url" (ngModelChange)="onChangeAppInstalaltionUrl($event)"class="input" style="margin-bottom: 0px;" type="text"
              placeholder="App installation url">
              <div style="color: #f44336; font-weight: 400;font-size: 12px;" *ngIf="diplayErrorAppInstallationUrlIsNoValid === true"> 
                Endpoint url must be a valid HTTPS URL 
              </div>
          </div>
        </div>


        <div class="row">
          <label class="col-sm-12 app-create-label">
            Render URL
            <span style="color: rgb(157, 159, 162); display: block;font-size: 12px;">
              This attribute specifies the address of the page to embed in the app via an iframe
            </span>
          </label>

          <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
            <input (ngModelChange)="onChangeRunUrl($event)" [(ngModel)]="app_run_url" class="input" style="margin-bottom: 0px;" type="text"
              placeholder="Render app url">
              <div style="color: #f44336; font-weight: 400;font-size: 12px;" *ngIf="diplayErrorRunUrlIsNoValid === true"> 
                Endpoint url must be a valid HTTPS URL 
              </div>
          </div>
        </div>




        <div class="row">
          <label class="col-sm-12 app-create-label">
            Short description*
          </label>

          <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
            <input [(ngModel)]="app_description" class="input" style="margin-bottom: 0px;" type="text"
              placeholder="Description">
          </div>
        </div>

        <div class="row">
          <label class="col-sm-12 app-create-label">
            Learn more URL*
          </label>

          <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
            <input [(ngModel)]="app_learn_more_url" class="input" style="margin-bottom: 0px;" type="text"
              placeholder="Learn more URL">
          </div>
        </div>

        <div class="row">
          <label class="col-sm-12 app-create-label">
            Enable your app for
          </label>
          <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
            <!-- <ng-select [items]="where_items" bindLabel="name" bindValue="id" [clearable]="false"
              [(ngModel)]="selectedClient" (change)="onChangeWhere(selectedClient)">
            </ng-select> -->

            <div class="checkbox">
              <label>
                <input type="checkbox" (change)="changeClientSelection($event)" id="checkbox-dashboard"
                  name="selectedClientDashboard" [checked]="clients.dashboard === true">
                Dashboard
              </label>
            </div>
            <div class="checkbox">
              <label>
                <input type="checkbox" (change)="changeClientSelection($event)" id="checkbox-webchat"
                  name="selectedClientWebchat" [checked]="clients.webchat === true">
                Webchat
              </label>
            </div>
            <div class="checkbox">
              <label>
                <input type="checkbox" (change)="changeClientSelection($event)" id="checkbox-widget"
                  name="selectedClientWebchat" [checked]="clients.widget === true">
                Widget
              </label>
            </div>
            <div class="checkbox">
              <label>
                <input type="checkbox" (change)="changeClientSelection($event)" id="checkbox-appsstore"
                  name="selectedClientAppsStore" [checked]="clients.appsstore === true">
                App Store
              </label>
            </div>
          </div>
        </div>
        <!-- || 
        clients.dashboard === false || 
        clients.webchat ===  false || 
        clients.widget ===  false  -->

        <div class="row">
          <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
            <div class="btn-wpr">
              <!-- !app_installation_url || app_installation_url?.length === 0 || -->
              <!-- ||  (clients.dashboard === false && clients.dashboard === false && clients.dashboard === false) -->
              <button class="btn btn-primary" (click)="saveOrUpdateNewApp()" [disabled]="!app_name || 
                app_name?.length === 0 || 
                !app_icon_url || 
                app_icon_url?.length === 0 || 
                !app_description || 
                app_description?.length === 0 || 
                !app_learn_more_url || 
                app_learn_more_url?.length === 0 || 
                NO_CLIENTS_SELECTED === true ">

                <span *ngIf="CREATE_VIEW">
                  {{ 'ScriptPage.Save' | translate }}
                </span>
                <span *ngIf="EDIT_VIEW">
                  Update
                </span>
              </button>
            </div>
          </div>



        </div>






      </div>

      <div class="col-md-4">

      </div>



    </div>
  </div>