<div class="navbar-brand" style="z-index: -1;margin-top:10px; padding-left:30px">
    <i class="material-icons" style="vertical-align: middle !important; cursor: pointer;" (click)="goBack()">keyboard_arrow_left</i>
    {{ "Hours" | translate }}
  </div>
  
  <div class="main-content" style="padding-top:0px">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">
          <div class="card" style="padding-top: 25px;padding-bottom: 25px;">
            <div class="card-content">
             
              <div class="col-sm-12">
                <label class="container" for="hoursActive" style="margin-left: 0px;" >
                  {{ "HoursPage.ActivateTimetables" | translate }} 
                   <input type="checkbox" id="hoursActive"  (change)="onChange($event)" [checked]="isActiveOperatingHours"/>
                  <span class="checkmark"></span>
                </label>
              </div>

              <div class="row">
                <div class="col-md-12">
                  <div class="card">

                    <div class="card-content table-responsive">

                      <table class="table table-hover">
                        <thead>
                          <tr>
                            <th>
                              <span style="color: #566787">
                                <strong>
                                  {{ "HoursPage.Day" | translate }} 
                                </strong>
                              </span>
                            </th>
                            
                              <th colspan="2">
                                <span style="color: #566787">
                                  <strong>
                                    {{ "HoursPage.Status" | translate }} 
                                  </strong>
                                </span>
                              </th>

                              <!-- // FOR DEBUG -->
                              <!-- <th>
                                <span style="color: #566787">
                                  <strong>
                                    Hours
                                  </strong>
                                </span>
                              </th> -->
                            
                              <th style="padding-left: 25px;">
                                <span style="color: #566787">
                                  <strong>
                                    {{ "HoursPage.Morning" | translate }} 
                                  </strong>
                                </span>
                              </th>
                              
                              <th style="padding-left: 25px;">
                                <span style="color: #566787">
                                  <strong>
                                    {{ "HoursPage.Afternoon" | translate }} 
                                  </strong>
                                </span>
                              </th>
                                
                            <tr>
                          </thead>

                          <tbody>
                            <tr *ngFor="let d of days">
                           
                              <td>
                                {{ d.weekday | translate}}
                              </td>

                              <td style="white-space: nowrap; width: 1%; padding-bottom: 6px;">
                                <label class="switch" style="margin-bottom: 0px;">
                                  <input type="checkbox" (change)="onChangeOpenedClosedStatus($event, d?._id, d?.weekday)"
                                    [checked]="d?.isOpen == true"  >
                                  <span class="slider round"></span>
                                </label>
                              </td>
                            
                              <td>

                                <span *ngIf="d.isOpen" style="background-color: #4caf50; color: white; padding: 4px 8px; border-radius: 3px; letter-spacing: 1px; font-size: 0.8em; " >
                                  <!-- APERTO -->
                                  {{ "HoursPage.Opened" | translate }} 
                                </span>
                                <span *ngIf="!d.isOpen" style="background-color: #f44336; color: white; padding: 4px 8px; border-radius: 3px; letter-spacing: 1px; font-size: 0.8em; ">
                                  <!-- CHIUSO -->
                                  {{ "HoursPage.Closed" | translate }} 
                                </span>
                              </td>
      
                              <!-- // FOR DEBUG -->
                              <!-- <td>
                                <tr *ngFor="let oh of d.operatingHours">
                                  <td> {{ oh.start }} </td>
                                  <td> {{ oh.end }}  </td>
                                </tr>
                              </td> -->


                            <!-- AM HOURS -->
                            <td>
                              <!-- AM START HOUR -->
                                  <button [disabled]="d.isOpen != true"  [ngClass]="{'disabled' : d.isOpen != true}" type="button" rel="tooltip" title="edit hour" class="btn btn-primary btn-simple btn-xs"
                                    (click)='openAmStart(d?._id)' style="padding-right: 4px;">
                                    <span class="edithours_btnlabel">
                                      <!-- Opening -->
                                      <!-- From -->
                                      {{ "HoursPage.From" | translate }} 
                                    </span> 
                                    
                                    <i class="material-icons">schedule</i>
                                  </button>

                                  <input [disabled]="d.isOpen != true" (input)="onChangeAmStartFromArrow($event.target.value, d?._id)"  [ngClass]="{'disabled' : d.isOpen != true}" type="time" value="{{ d.operatingHoursAmStart }}">

                                  <br class="newline">
  
                                <!-- AM END HOUR -->
                               
                                  <button [disabled]="d.isOpen != true"  [ngClass]="{'disabled' : d.isOpen != true}" type="button" rel="tooltip" title="edit hour" class="btn btn-primary btn-simple btn-xs"
                                    (click)='openAmEnd(d?._id)' style="padding-right: 4px;">
                                    <!-- <span class="edithours_btnlabel">Closing</span>  -->
                                    <span class="edithours_btnlabelTo" [ngClass]="{'it_custom' : browser_lang == 'it'}">
                                      <!-- To -->
                                      {{ "HoursPage.To" | translate }} 
                                    </span>
                                    
                                    <i class="material-icons">schedule</i>
                                  </button>
                                  <input [disabled]="d.isOpen != true" (input)="onChangeAmEndFromArrow($event.target.value, d?._id)" [ngClass]="{'disabled' : d.isOpen != true}" type="time" value="{{ d.operatingHoursAmEnd }}">
     

                            </td>

                            <!-- PM HOURS -->
                            <td>
                                <!-- PM START HOUR -->
                                <button  [disabled]="d.isOpen != true"  [ngClass]="{'disabled' : d.isOpen != true}"  type="button" rel="tooltip" title="edit hour" class="btn btn-primary btn-simple btn-xs"
                                  (click)='openPmStart(d?._id)' style="padding-right: 4px;">
                                  
                                  <span class="edithours_btnlabel">
                                    <!-- Opening -->
                                    <!-- From  -->
                                    {{ "HoursPage.From" | translate }} 
                                  </span>
                                  <i class="material-icons">schedule</i>
                                </button>
                                <input [disabled]="d.isOpen != true" (input)="onChangePmStartFromArrow($event.target.value, d?._id)" [ngClass]="{'disabled' : d.isOpen != true}" type="time" value="{{ d.operatingHoursPmStart }}">

                                <br class="newline">

                                <!-- PM END HOUR -->
                                <button [disabled]="d.isOpen != true"  [ngClass]="{'disabled' : d.isOpen != true}" type="button" rel="tooltip" title="edit hour" class="btn btn-primary btn-simple btn-xs"
                                  (click)='openPmEnd(d?._id)' style="padding-right: 4px;">
                                  <!-- <span class="edithours_btnlabel">Closing</span> -->

                                  <span class="edithours_btnlabelTo" [ngClass]="{'it_custom' : browser_lang == 'it'}">
                                    <!-- To -->
                                    {{ "HoursPage.To" | translate }} 
                                  </span>
                                  <i class="material-icons">schedule</i>
                                </button>
                                <input [disabled]="d.isOpen != true" (input)="onChangePmEndFromArrow($event.target.value, d?._id)" [ngClass]="{'disabled' : d.isOpen != true}" type="time" value="{{ d.operatingHoursPmEnd }}">

                            </td>
 
                          </tr>
                        </tbody>
                      </table>
                    </div>

                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-12">
                  <button class="btn btn-success" (click)="save()">
                    Save
                  </button>
                </div>
              </div>


              <label  class="col-sm-2" style="height: 36px; padding-top: 7px; padding-left: 16px; padding-right: 16px; text-align: right;">
               + {{ "Hours" | translate }}
              </label>
              <div class="col-sm-10">
                <input [(ngModel)]="operatingHours" class="" type="text" placeholder='{{ "Hours" | translate }}'>
              </div>
 
  
            </div>
  
            <!-- SPACER -->
            <!-- <div class="col-sm-12 spacer" style="height:15px"></div> -->
            
            <div style="padding-left:25px" class="col-sm-10 col-sm-offset-2">
              <button class="btn btn-success" (click)="updateProjectOperatingHours()">
                {{ "HoursPage.UpdateHours" | translate }}
              </button>

              <button class="btn btn-success" (click)="testAvailableProjectUserConsideringProjectOperatingHours()">
                TEST AVAILABLE
              </button>
            </div>
  
          </div>
        </div>
      </div>
    </div>
  </div>