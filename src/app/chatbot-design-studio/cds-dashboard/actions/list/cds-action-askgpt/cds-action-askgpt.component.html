<div *ngIf="previewMode" class="cds-action-preview" style="position: relative;">

    <div class="action-row">
        <div class="action-row-left">
            <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 0 24 24" width="20px" fill="none">
                <path d="M0 0h24v24H0V0z" fill="none" />
                <path d="M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z" />
            </svg>
        </div>
        <div *ngIf="question" class="action-row-right">
            {{question}}
        </div>
        <div *ngIf="!question" class="action-row-right empty">
            <!-- Enter the question you want to submit to chatgpt -->
            Enter the question
        </div>
    </div>
    <!-- <cds-action-arrow *ngIf="!last"></cds-action-arrow> -->
</div>

<div *ngIf="!previewMode" class="content">


    <div class="textarea-editor-wrapper">
        <!-- <div class="field-box"> -->
            <label class="title-label">Question</label>
            <!-- <div class="value-wrp"> -->
                <cds-textarea id="question"
                    class = "text-editable-div"
                    [textLimitBtn]="false"
                    [emojiPikerBtn]="false"
                    [setAttributeBtn]="true"
                    [minRow]="2" [maxRow]="4"
                    [text]="question"
                    [placeholder]="'Question to submit'"
                    (changeTextarea)="changeTextarea($event, 'question')">
                </cds-textarea>
            <!-- </div> -->
        <!-- </div> -->
    </div>

    <div class="text-editor-wrapper">
        <div class="field-box">
            <label class="title-label">Knowledge Base ID</label>
            <div class="value-wrp">
                <cds-textarea id="assignTo"
                    [textLimitBtn]="false"
                    [emojiPikerBtn]="false"
                    [setAttributeBtn]="true"
                    [minRow]="1" [maxRow]="1"
                    [text]="kbid"
                    [placeholder]="'Your Knowledge Base ID'"
                    (changeTextarea)="changeTextarea($event, 'kbid')">
                </cds-textarea>
            </div>
        </div>
    </div>

    <div class="text-editor-wrapper">
        <div class="field-box">
            <label class="title-label">GPT Key</label>
            <div class="value-wrp">
                <cds-textarea id="assignTo"
                    [textLimitBtn]="false"
                    [emojiPikerBtn]="false"
                    [setAttributeBtn]="true"
                    [minRow]="1" [maxRow]="3"
                    [text]="gptkey"
                    [placeholder]="'Your ChatGPT API key'"
                    (changeTextarea)="changeTextarea($event, 'gptkey')">
                </cds-textarea>
            </div>
        </div>
    </div>

    <hr class="custom-divider">

    <div class="text-editor-wrapper">
        <div class="field-box">
            <label class="title-label">GPT Reply</label>
            <div class="value-wrp">
                <cds-textarea id="assignTo"
                    [textLimitBtn]="false"
                    [emojiPikerBtn]="false"
                    [setAttributeBtn]="true"
                    [minRow]="1" [maxRow]="1"
                    [readonly]="true"
                    [text]="action.assignReplyTo"
                    (selectedAttribute)="onSelectedAttribute($event, 'assignReplyTo')"
                    (clearSelectedAttribute)="onSelectedAttribute($event, 'assignReplyTo')">
                </cds-textarea>
            </div>
        </div>
    </div>

    <div class="text-editor-wrapper">
        <div class="field-box">
            <label class="title-label">GPT Source</label>
            <div class="value-wrp">
                <cds-textarea id="assignTo"
                    [textLimitBtn]="false"
                    [emojiPikerBtn]="false"
                    [setAttributeBtn]="true"
                    [minRow]="1" [maxRow]="1"
                    [readonly]="true"
                    [text]="action.assignSourceTo"
                    (selectedAttribute)="onSelectedAttribute($event, 'assignSourceTo')"
                    (clearSelectedAttribute)="onSelectedAttribute($event, 'assignSourceTo')">
                </cds-textarea>
            </div>
        </div>
    </div>

    <div class="text-editor-wrapper">
        <div class="field-box">
            <label class="title-label">GPT Success</label>
            <div class="value-wrp">
                <cds-textarea id="assignTo"
                    [textLimitBtn]="false"
                    [emojiPikerBtn]="false"
                    [setAttributeBtn]="true"
                    [minRow]="1" [maxRow]="1"
                    [readonly]="true"
                    [text]="action.assignSuccessTo"
                    (selectedAttribute)="onSelectedAttribute($event, 'assignSuccessTo')"
                    (clearSelectedAttribute)="onSelectedAttribute($event, 'assignSuccessTo')">
                </cds-textarea>
            </div>
        </div>
    </div>

</div>