<cds-action-description [actionType]="'EMAIL'" [actionSelected]="action">
</cds-action-description>

<div class="content">

    <div class="text-editor-wrapper">
        <div class="text-editor">
            <div class="email-field-box">
                <label class="title-label">To</label>
                <!-- <div class="text-editor-wpr" style="position: relative;"> -->

                <mat-form-field class="box-textarea" appearance="fill">
                    <input matInput type="email" placeholder="Destinatary" [(ngModel)]="action.to">
                    <mat-hint *ngIf="email_error">Email must be valid</mat-hint>
                </mat-form-field>

                <!-- <input class="cds-input" type="email" placeholder="Destinatary" [(ngModel)]="action.to"> -->
            </div>
        </div>
    </div>
    
    <div class="text-editor-wrapper">
        <div class="text-editor">
            <div class="email-field-box">
                <label class="title-label">Subject</label>
                <!-- --------------------------------- -->
                <!-- @ Panel attibute  -->
                <!-- --------------------------------- -->
                <div *ngIf="isOpenSetAttributesPanel" class="set--attribrutes-panel">
                    <input type="button" id="set--attribrute" value="first_name" unselectable="on"
                        (click)="setAttribute('${nome}')">

                    <input type="button" id="set--attribrute" value="city" unselectable="on"
                        (click)="setAttribute('${city}')">

                    <input type="button" id="set--attribrute" value="phone" unselectable="on"
                        (click)="setAttribute('${phone}')">
                </div>

                <div unselectable="on" tabIndex="-1" class="text-editor-utils">
                    <!-- <div unselectable="on" tabIndex="-1" class="text-editor-insert-attribute"
                        (click)="toggleSetAttributesPanel(isOpenSetAttributesPanel = !isOpenSetAttributesPanel)">
                        <span unselectable="on" class="material-icons material-icons-data-object" style="font-size: 16px;">
                            data_object
                        </span>
                    </div> -->

                    <input type="button" unselectable="on" class="insert-attribute-btn"
                    (click)="toggleSetAttributesPanel(isOpenSetAttributesPanel = !isOpenSetAttributesPanel)">
                    <span unselectable="on" class="material-icons material-icons-data-object" style="font-size: 16px;">
                        data_object
                    </span>
                   


                    <div class="emoji-picker">
                        <div class="emoji-picker-button" aria-expanded="false">
                            <span class="material-icons" style="font-size: 16px;">
                                emoji_emotions
                            </span>
                        </div>
                    </div>
                </div>
                <!-- <mat-form-field class="box-textarea" appearance="fill">
                    <input matInput type="text" placeholder="Type a subject" [(ngModel)]="action.subject">
                </mat-form-field> -->
                <!-- (mouseleave)="mouseleave()" (mousedown)="mousedown($event);" -->
                <!-- [textContent]="action.subject" (input)="action.subject = $event.target.textContent" -->

                <!-- (input)="onInputActionSubject()" -->
                <!-- <div data-focused="true" id="email-subject"  (keyup)="onKeyUp($event)" (mouseup)="mouseUp()"
                    contenteditable="true">
                    
                </div> -->
                <!-- <div class="set--attribrutes-panel">
                    <input type="button" id="paste" value="Paste HTML" unselectable="on"
                        (click)="pasteHtml('first_name')">
                </div> -->

                <div (input)="onInputActionSubject()" id="email-subject" contenteditable="true">

                </div>
            </div>
        </div>
    </div>

    <div class="email-field-box">
        <label class="title-label">Email body</label>
        <mat-form-field class="box-textarea" appearance="fill">
            <textarea matInput type="text" rows="8" [(ngModel)]="action.text"></textarea>
        </mat-form-field>
        <!-- <input class="cds-input" type="email" placeholder="Destinatary" [(ngModel)]="action.to"> -->
    </div>

</div>