<cds-action-description [actionType]="'EMAIL'" [actionSelected]="action">
</cds-action-description>

<div class="content">

    <div class="text-editor-wrapper">
        <div class="text-editor">
            <div class="email-field-box">
                <label class="title-label">To</label>
                <!-- <div class="text-editor-wpr" style="position: relative;"> -->

                <mat-form-field class="box-textarea" appearance="fill">
                    <input matInput type="email" placeholder="Destinatary" [(ngModel)]="action.to">
                    <mat-hint *ngIf="email_error">Email must be valid</mat-hint>
                </mat-form-field>

                <!-- <input class="cds-input" type="email" placeholder="Destinatary" [(ngModel)]="action.to"> -->
            </div>
        </div>
    </div>
    
    <div class="text-editor-wrapper">
        <div class="text-editor">
            <div class="email-field-box">
                <label class="title-label">Subject</label>
                <!-- --------------------------------- -->
                <!-- @ Panel attibute  -->
                <!-- --------------------------------- -->
                <!-- <div *ngIf="isOpenSetAttributesPanel" class="set--attribrutes-panel">
                    <input type="button" id="set--attribrute" value="first_name" unselectable="on"
                        (click)="setAttribute('${nome}')">

                    <input type="button" id="set--attribrute" value="city" unselectable="on"
                        (click)="setAttribute('${city}')">

                    <input type="button" id="set--attribrute" value="phone" unselectable="on"
                        (click)="setAttribute('${phone}')">
                </div> -->
                <!-- --------------------------------- -->
                <!-- ./ Panel attibute  -->
                <!-- --------------------------------- -->

                <!-- --------------------------------- -->
                <!-- @ Editor utils  -->
                <!-- --------------------------------- -->
                <!-- <div unselectable="on" tabIndex="-1" class="text-editor-utils">
                    <input type="button" unselectable="on" class="insert-attribute-btn"
                    (click)="toggleSetAttributesPanel(isOpenSetAttributesPanel = !isOpenSetAttributesPanel)">
                    <span unselectable="on" class="material-icons material-icons-data-object" style="font-size: 16px;">
                        data_object
                    </span>
                   
                    <div class="emoji-picker">
                        <div class="emoji-picker-button" aria-expanded="false">
                            <span class="material-icons" style="font-size: 16px;">
                                emoji_emotions
                            </span>
                        </div>
                    </div>
                    <div data-status="default" class="tpl-text-limit">
                        539
                    </div>
                </div> -->
                <!-- --------------------------------- -->
                <!-- ./ Editor utils  -->
                <!-- --------------------------------- -->
                <!-- <mat-form-field class="box-textarea" appearance="fill">
                    <input matInput type="text" placeholder="Type a subject" [(ngModel)]="action.subject">
                </mat-form-field> -->
               
                <!-- <div data-focused="true" spellcheck="false" (input)="onInputActionSubject()" id="email-subject" contenteditable="true"> </div> -->
                
                <text-editable-div 
                    class="editable-div" 
                    [emoijPikerBtn]="true" 
                    [setAttributeBtn]="true" 
                    [textLimitBtn]="true" 
                    [textLimit]="30" 
                    [text]="actionSubject" 
                    (textChanged)="onEditableDivTextChange($event, 'subject')"
                ></text-editable-div>
            </div>
        </div>
    </div>

    <div class="email-field-box">
        <label class="title-label">Email body</label>
        <!-- <mat-form-field class="box-textarea" appearance="fill">
            <textarea matInput type="text" rows="8" [(ngModel)]="action.text"></textarea>
        </mat-form-field> -->
        <!-- -->
        <text-editable-div class="editable-div" [minHeightContent]="110" [emoijPikerBtn]="true" [setAttributeBtn]="true"  [text]="actionBody" [textLimitBtn]="false" [textLimit]="1024"  (textChanged)="onEditableDivTextChange($event, 'text')"> </text-editable-div>
    </div>

</div>