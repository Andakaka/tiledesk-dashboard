<cds-action-description [actionType]="'EMAIL'" [actionSelected]="action">
</cds-action-description>

<div class="content">

    <div class="text-editor-wrapper">
        <div class="text-editor">
            <div class="email-field-box">
                <label class="title-label">To</label>
                <!-- <div class="text-editor-wpr" style="position: relative;"> -->

                <mat-form-field class="box-textarea" appearance="fill">
                    <input matInput type="email" placeholder="Destinatary" [(ngModel)]="action.to">
                    <mat-hint *ngIf="email_error">Email must be valid</mat-hint>
                </mat-form-field>

                <!-- <input class="cds-input" type="email" placeholder="Destinatary" [(ngModel)]="action.to"> -->
            </div>
        </div>
    </div>
    <!-- (document:click)="agentfbimg.close()" -->
    <div class="text-editor-wrapper">
        <div class="text-editor">
            <div class="email-field-box">
                <label class="title-label">Subject</label>
                <input type="button" id="paste" value="Paste HTML" unselectable="on"
                    (click)="selectedAttibute('nicola')">

                <div class="text-editor-utils">
                    <div class="text-editor-insert-attribute" [satPopoverAnchor]="agentfbimg"
                        (click)="agentfbimg.toggle(); $event.stopPropagation()">
                        <span class="material-icons" style=" color: #647283; font-size: 16px;">
                            data_object
                        </span>

                        <sat-popover (opened)="onOpenPopover()" [autoFocus]="false" panelClass="set-attributes-panel"
                            #agentfbimg horizontalAlign="before">
                            <div class="select-category-row">
                                <span id="attribute-nicola" class="select-category-row-name"
                                    (click)="selectedAttibute('nicola')">
                                    Nicola
                                </span>
                            </div>
                            <div class="select-category-row">
                                <span class="select-category-row-name">
                                    Andrea
                                </span>
                            </div>
                            <div class="select-category-row">
                                <span class="select-category-row-name">
                                    Gabriele
                                </span>
                            </div>
                        </sat-popover>


                    </div>
                    <div class="emoji-picker">
                        <div class="emoji-picker-button" aria-expanded="false">
                            <span class="material-icons" style="color: #647283; font-size: 16px;">
                                emoji_emotions
                            </span>
                        </div>
                    </div>
                </div>
                <!-- <mat-form-field class="box-textarea" appearance="fill">
                    <input matInput type="text" placeholder="Type a subject" [(ngModel)]="action.subject">
                </mat-form-field> -->
                <!-- (mouseleave)="mouseleave()" (mousedown)="mousedown($event);" -->
                <div id="email-subject" (keyup)="onKeyUp($event)" (mouseup)="mouseUp()"  contenteditable="true">
                    You can type here. Add an icon.
                </div>
            </div>
        </div>
    </div>

    <div class="email-field-box">
        <label class="title-label">Email body</label>
        <mat-form-field class="box-textarea" appearance="fill">
            <textarea matInput type="text" rows="8" [(ngModel)]="action.text"></textarea>
        </mat-form-field>
        <!-- <input class="cds-input" type="email" placeholder="Destinatary" [(ngModel)]="action.to"> -->
    </div>

</div>